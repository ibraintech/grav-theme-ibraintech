{% set min_chars = config.get('plugins.simplesearch.min_query_length', 3) %}

<form name="search" data-simplesearch-form>
  <div class="field has-addons">
    <p class="control is-expanded">
      <input
        name="searchfield"
        class="input"
        type="text"
        required
        {% if min_chars > 0 %} min="{{- min_chars -}}" {% endif %}
        placeholder="{{ 'PLUGIN_SIMPLESEARCH.SEARCH_PLACEHOLDER'|t }}"
        value="{{ query|e }}"
        data-search-invalid="{{ "PLUGIN_SIMPLESEARCH.SEARCH_FIELD_MINIMUM_CHARACTERS"|t(min_chars)|raw }}"
        data-search-separator="{{ config.system.param_sep }}"
        data-search-input="{{ base_url }}{{ config.plugins.simplesearch.route == '@self' ? '' : (config.plugins.simplesearch.route == '/' ? '' : config.plugins.simplesearch.route) }}/query"
      >
    </p>
    {% if config.plugins.simplesearch.display_button %}
    <p class="control">
      <button class="button" type="submit">
        <span class="icon is-small">
          <i class="fa fa-search"></i>
        </span>
      </button>
    </p>
    {% endif %}
  </div>
</form>

